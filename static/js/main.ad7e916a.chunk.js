(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),m=a(6),s=a.n(m),r=(a(13),a(14),a(2)),l=a.n(r),i=(l.a.shape({children:l.a.arrayOf(r.object).isRequired}),l.a.shape({name:l.a.string.isRequired,img:l.a.string.isRequired,price:l.a.number.isRequired,promo:l.a.arrayOf(r.number).isRequired}),c.a.createContext()),o=function(e){var t=e.children,a=[{name:"banana",img:"".concat("media/img/","banana.png"),amount:0,total:0,price:10},{name:"apple",img:"".concat("media/img/","apple.png"),amount:0,total:0,price:8},{name:"papaya",img:"".concat("media/img/","papaya.png"),amount:0,total:0,price:10,promo:[3,.5]}],n={names:new Set,list:{}};return c.a.createElement(i.Provider,{value:[a,n]},t)},u=a(1),p=(a(17),function(e){var t=e.name,a=e.price,m=e.img,s=e.promo,r=Object(n.useContext)(i),l=Object(u.a)(r,2)[1],o=Object(n.useState)(0),p=Object(u.a)(o,2),b=p[0],_=p[1],d=Object(n.useState)(0),E=Object(u.a)(d,2),k=E[0],g=E[1];l.list[t]={amount:b,name:t,price:a,total:k,img:m},Object(n.useEffect)((function(){l.list[t].total=k,l.list[t].amount=b}),[b,k]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"product__text"},t[0].toUpperCase()+t.slice(1)),c.a.createElement("p",{className:"product__text"},a,"$"),c.a.createElement("img",{src:m,alt:t,className:"product__img"}),c.a.createElement("div",{className:"product__price-box"},c.a.createElement("button",{type:"button",className:"product__button",onClick:function(){!function(){if(b>0)return s&&b%s[0]===0?g(k-a*s[1]):g(k-a),void _(b-1);l.names.delete(t)}()}},c.a.createElement("img",{src:"media/icons/removePink.ico",alt:"add",className:"product__button-img"})),c.a.createElement("p",{className:"product__text"},b),c.a.createElement("button",{type:"button",className:"product__button",onClick:function(){_(b+1),l.names.add(t),s&&(b+1)%s[0]===0?g(k+a*s[1]):g(k+a)}},c.a.createElement("img",{src:"media/icons/addPink.ico",alt:"add",className:"product__button-img"}))))}),b=(a(18),function(){var e=Object(n.useContext)(i),t=Object(u.a)(e,1)[0];return c.a.createElement("section",{className:"product-list"},t.map((function(e){return c.a.createElement("div",{key:e.name,className:"product"},c.a.createElement(p,{name:e.name,price:e.price,img:e.img,promo:e.promo}))})))}),_=a(7),d=(a(19),function(){var e=Object(n.useContext)(i),t=Object(u.a)(e,2)[1],a=0;return c.a.createElement("section",{className:"basket-menu"},c.a.createElement("h1",{className:"basket-menu__title"},"You Basket"),c.a.createElement("div",{className:"basket-menu__products"},Object(_.a)(t.names).map((function(e){return t.list[e].amount>0?(a+=t.list[e].total,c.a.createElement("div",{className:"basket-menu__product-item",key:t.list[e].name},c.a.createElement("h1",{className:"basket-menu__product-title"},t.list[e].name[0].toUpperCase()+t.list[e].name.slice(1)),c.a.createElement("img",{src:t.list[e].img,alt:t.list[e].name,className:"basket-menu__product-img"}),c.a.createElement("div",{className:"basket-menu__text-content"},c.a.createElement("p",{className:"basket-menu__product-text"},"Amount:\n                      ".concat(t.list[e].amount,"\n                    ")),c.a.createElement("p",{className:"basket-menu__product-text"},"\n                      Total price:\n                      ".concat(t.list[e].total,"$\n                    "))))):null}))),c.a.createElement("div",{className:"basket-menu__services"},a>0?c.a.createElement("p",{className:"basket-menu__text"},"\n              The total cost:\n              ".concat(a,"$\n            ")):c.a.createElement("p",{className:"basket-menu__text"},"Basket is empty")))}),E=(a(20),function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],m=t[1];return c.a.createElement("section",{className:"basket"},c.a.createElement("section",{className:"basket__roof"},c.a.createElement("button",{type:"button",className:"basket__button",onClick:function(){m(!a)}},c.a.createElement("img",{src:"media/icons/basket.png",alt:"basket",className:"basket__item"}))),c.a.createElement("section",{className:a?"basket__menu basket__menu_active":"basket__menu"},c.a.createElement(d,null)))});var k=function(){return c.a.createElement("section",{className:"app"},c.a.createElement(o,null,c.a.createElement("header",null,c.a.createElement(E,null)),c.a.createElement("main",null,c.a.createElement(b,null))))};s.a.render(c.a.createElement(k,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.ad7e916a.chunk.js.map