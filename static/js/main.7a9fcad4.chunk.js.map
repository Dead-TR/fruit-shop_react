{"version":3,"sources":["modules/body/ContextProvider.jsx","modules/shapes/shapes.js","modules/body/children/ProductList/Product/Product.jsx","modules/body/children/ProductList/ProductList.jsx","modules/body/children/Basket/BasketMenu/BasketMenu.jsx","modules/body/children/Basket/Basket.jsx","App.jsx","index.js"],"names":["Context","PropTypes","shape","children","arrayOf","object","isRequired","name","string","img","price","number","promo","React","createContext","ContextProvider","products","amount","total","basket","names","Set","list","Provider","value","Product","useContext","useState","setAmount","setTotal","useEffect","className","toUpperCase","slice","src","alt","type","onClick","delete","add","ProductList","map","product","key","BasketMenu","totalCost","Basket","slideBar","setSlideBar","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7a9fcad4.chunk.js","sourcesContent":["import React from 'react';\nimport { contextShape } from '../shapes/shapes';\n\nexport const Context = React.createContext();\n\nexport const ContextProvider = ({ children }) => {\n  const imgUrl = 'media/img/';\n  const products = [\n    {\n      name: 'banana',\n      img: `${imgUrl}banana.png`,\n      amount: 0,\n      total: 0,\n      price: 10,\n    },\n    {\n      name: 'apple',\n      img: `${imgUrl}apple.png`,\n      amount: 0,\n      total: 0,\n      price: 8,\n    },\n    {\n      name: 'papaya',\n      img: `${imgUrl}papaya.png`,\n      amount: 0,\n      total: 0,\n      price: 10,\n      promo: [3, 0.5],\n    },\n  ];\n  const basket = {\n    names: new Set(),\n    list: {},\n  };\n\n  return (\n    <Context.Provider value={[products, basket]}>\n      {children}\n    </Context.Provider>\n  );\n};\n\nContextProvider.propTypes = contextShape.isRequired;\n","import PropTypes, { number, object } from 'prop-types';\n\nexport const contextShape = PropTypes.shape({\n  children: PropTypes.arrayOf(object).isRequired,\n});\n\nexport const productShape = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  img: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  promo: PropTypes.arrayOf(number).isRequired,\n});\n","import React, { useContext, useState, useEffect } from 'react';\nimport { Context } from '../../../ContextProvider';\nimport { productShape } from '../../../../shapes/shapes';\nimport './product.css';\n\nexport const Product = ({ name, price, img, promo }) => {\n  const [, basket] = useContext(Context);\n  const [amount, setAmount] = useState(0);\n  const [total, setTotal] = useState(0);\n\n  basket.list[name] = {\n    amount,\n    name,\n    price,\n    total,\n    img,\n  };\n\n  useEffect(() => {\n    basket.list[name].total = total;\n    basket.list[name].amount = amount;\n  }, [amount, total]);\n\n  const addToBasket = () => {\n    setAmount(amount + 1);\n    basket.names.add(name);\n\n    if (\n      promo\n      && (amount + 1) % promo[0] === 0\n    ) {\n      setTotal(total + (price * promo[1]));\n    } else {\n      setTotal(total + price);\n    }\n  };\n\n  const removeFromBasket = () => {\n    if (amount > 0) {\n      if (\n        promo\n        && (amount) % promo[0] === 0\n      ) {\n        setTotal(total - (price * promo[1]));\n      } else {\n        setTotal(total - price);\n      }\n\n      setAmount(amount - 1);\n    } else {\n      basket.names.delete(name);\n    }\n  };\n\n  return (\n    <>\n      <h1 className=\"product__text\">\n        {name[0].toUpperCase() + name.slice(1)}\n      </h1>\n\n      <p className=\"product__text\">\n        {price}\n        $\n      </p>\n\n      <img\n        src={img}\n        alt={name}\n        className=\"product__img\"\n      />\n\n      <div className=\"product__price-box\">\n        <button\n          type=\"button\"\n          className=\"product__button\"\n          onClick={() => {\n            removeFromBasket();\n          }}\n        >\n          <img\n            src=\"media/icons/removePink.ico\"\n            alt=\"add\"\n            className=\"product__button-img\"\n          />\n        </button>\n\n        <p className=\"product__text\">\n          {amount}\n        </p>\n\n        <button\n          type=\"button\"\n          className=\"product__button\"\n          onClick={() => {\n            addToBasket();\n          }}\n        >\n          <img\n            src=\"media/icons/addPink.ico\"\n            alt=\"add\"\n            className=\"product__button-img\"\n          />\n        </button>\n\n      </div>\n    </>\n  );\n};\n\nProduct.propTypes = productShape.isRequired;\n","import React, { useContext, useState } from 'react';\nimport { Context } from '../../ContextProvider';\nimport { Product } from './Product/Product';\nimport './product-list.css';\n\nexport const ProductList = () => {\n  const [products] = useContext(Context);\n\n  return (\n    <section className=\"product-list\">\n      {products.map(product => (\n        <div\n          key={product.name}\n          className=\"product\"\n        >\n          <Product\n            name={product.name}\n            price={product.price}\n            img={product.img}\n            promo={product.promo}\n          />\n        </div>\n      ))}\n    </section>\n  );\n};\n","import React, { useContext } from 'react';\nimport { Context } from '../../../ContextProvider';\nimport './basket-menu.css';\n\nexport const BasketMenu = () => {\n  const [, basket] = useContext(Context);\n  let totalCost = 0;\n\n  return (\n    <section className=\"basket-menu\">\n      <h1 className=\"basket-menu__title\">You Basket</h1>\n      <div className=\"basket-menu__products\">\n        {[...basket.names].map((name) => {\n          if (basket.list[name].amount > 0) {\n            totalCost += basket.list[name].total;\n\n            return (\n              <div\n                className=\"basket-menu__product-item\"\n                key={basket.list[name].name}\n              >\n                <h1 className=\"basket-menu__product-title\">\n                  {\n                    basket.list[name].name[0].toUpperCase()\n                    + basket.list[name].name.slice(1)\n                  }\n                </h1>\n\n                <img\n                  src={basket.list[name].img}\n                  alt={basket.list[name].name}\n                  className=\"basket-menu__product-img\"\n                />\n                <div className=\"basket-menu__text-content\">\n                  <p className=\"basket-menu__product-text\">\n                    {`Amount:\n                      ${basket.list[name].amount}\n                    `}\n                  </p>\n\n                  <p className=\"basket-menu__product-text\">\n                    {`\n                      Total price:\n                      ${basket.list[name].total}$\n                    `}\n                  </p>\n                </div>\n              </div>\n            );\n          }\n\n          return null;\n        })}\n      </div>\n      <div className=\"basket-menu__services\">\n        {totalCost > 0 ? (\n          <p className=\"basket-menu__text\">\n            {`\n              The total cost:\n              ${totalCost}$\n            `}\n          </p>\n        ) : (\n          <p className=\"basket-menu__text\">\n            Basket is empty\n          </p>\n        )}\n      </div>\n    </section>\n  );\n};\n","import React, { useState } from 'react';\nimport { BasketMenu } from './BasketMenu/BasketMenu';\nimport './basket.css';\n\nexport const Basket = () => {\n  const [slideBar, setSlideBar] = useState(false);\n  const getBasket = () => {\n    setSlideBar(!slideBar);\n  };\n\n  return (\n    <section className=\"basket\">\n      <section className=\"basket__roof\">\n        <button\n          type=\"button\"\n          className=\"basket__button\"\n          onClick={getBasket}\n        >\n          <img\n            src=\"media/icons/basket.png\"\n            alt=\"basket\"\n            className=\"basket__item\"\n          />\n        </button>\n      </section>\n\n      <section\n        className={\n          !slideBar ? 'basket__menu'\n            : 'basket__menu basket__menu_active'\n        }\n      >\n        <BasketMenu />\n      </section>\n    </section>\n  );\n};\n","import React from 'react';\nimport { ContextProvider } from './modules/body/ContextProvider';\nimport { ProductList } from './modules/body/children/ProductList/ProductList';\nimport { Basket } from './modules/body/children/Basket/Basket';\n\nfunction App() {\n  return (\n    <section className=\"app\">\n      <ContextProvider>\n        <header>\n          <Basket />\n        </header>\n        <main>\n          <ProductList />\n        </main>\n      </ContextProvider>\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './reset.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}