(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(6),m=a.n(s),l=(a(13),a(14),a(2)),r=a.n(l),i=(r.a.shape({children:r.a.arrayOf(l.object).isRequired}),r.a.shape({name:r.a.string.isRequired,img:r.a.string.isRequired,price:r.a.number.isRequired,promo:r.a.arrayOf(l.number).isRequired}),c.a.createContext()),o=function(e){var t=e.children,a=[{name:"banana",img:"".concat("media/img/","banana.png"),amount:0,total:0,price:10},{name:"apple",img:"".concat("media/img/","apple.png"),amount:0,total:0,price:8},{name:"papaya",img:"".concat("media/img/","papaya.png"),amount:0,total:0,price:10,promo:[3,.5]}],n={names:new Set,list:{}};return c.a.createElement(i.Provider,{value:[a,n]},t)},u=a(1),p=function(e){var t=e.name,a=e.price,s=e.img,m=e.promo,l=Object(n.useContext)(i),r=Object(u.a)(l,2)[1],o=Object(n.useState)(0),p=Object(u.a)(o,2),_=p[0],b=p[1],d=Object(n.useState)(0),E=Object(u.a)(d,2),k=E[0],g=E[1];r.list[t]={amount:_,name:t,price:a,total:k,img:s},Object(n.useEffect)((function(){r.list[t].total=k,r.list[t].amount=_}),[_,k]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"product-list__text"},t[0].toUpperCase()+t.slice(1)),c.a.createElement("p",{className:"product-list__text"},a,"$"),c.a.createElement("img",{src:s,alt:t,className:"product-list__img"}),c.a.createElement("div",{className:"product-list__price-box"},c.a.createElement("button",{type:"button",className:"product-list__button",onClick:function(){_>0?(m&&_%m[0]===0?g(k-a*m[1]):g(k-a),b(_-1)):r.names.delete(t)}},c.a.createElement("img",{src:"media/icons/removePink.ico",alt:"add",className:"product-list__button-img"})),c.a.createElement("p",{className:"product-list__text"},_),c.a.createElement("button",{type:"button",className:"product-list__button",onClick:function(){b(_+1),r.names.add(t),m&&(_+1)%m[0]===0?g(k+a*m[1]):g(k+a)}},c.a.createElement("img",{src:"media/icons/addPink.ico",alt:"add",className:"product-list__button-img"}))))},_=(a(17),function(){var e=Object(n.useContext)(i),t=Object(u.a)(e,1)[0];return c.a.createElement("section",{className:"product-list"},t.map((function(e){return c.a.createElement("div",{key:e.name,className:"product-list__item"},c.a.createElement(p,{name:e.name,price:e.price,img:e.img,promo:e.promo}))})))}),b=a(7),d=(a(18),function(){var e=Object(n.useContext)(i),t=Object(u.a)(e,2)[1],a=0;return c.a.createElement("section",{className:"basket-menu"},c.a.createElement("h1",{className:"basket-menu__title"},"You Basket"),c.a.createElement("div",{className:"basket-menu__products"},Object(b.a)(t.names).map((function(e){return t.list[e].amount>0?(a+=t.list[e].total,c.a.createElement("div",{className:"basket-menu__product-item",key:t.list[e].name},c.a.createElement("h1",{className:"basket-menu__product-title"},t.list[e].name[0].toUpperCase()+t.list[e].name.slice(1)),c.a.createElement("img",{src:t.list[e].img,alt:t.list[e].name,className:"basket-menu__product-img"}),c.a.createElement("div",{className:"basket-menu__text-content"},c.a.createElement("p",{className:"basket-menu__product-text"},"Amount: \xa0",t.list[e].amount),c.a.createElement("p",{className:"basket-menu__product-text"},"Total price: \xa0",t.list[e].total,"$")))):null}))),c.a.createElement("div",{className:"basket-menu__services"},a>0?c.a.createElement("p",{className:"basket-menu__text"},"The total cost: \xa0",a,"$"):c.a.createElement("p",{className:"basket-menu__text"},"Basket is empty")))}),E=(a(19),function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],s=t[1];return c.a.createElement("section",{className:"basket"},c.a.createElement("section",{className:"basket__roof"},c.a.createElement("button",{type:"button",className:"basket__button",onClick:function(){s(!a)}},c.a.createElement("img",{src:"media/icons/basket.png",alt:"basket",className:"basket__item"}))),c.a.createElement("section",{className:a?"basket__menu basket__menu_active":"basket__menu"},c.a.createElement(d,null)))});var k=function(){return c.a.createElement("section",{className:"app"},c.a.createElement(o,null,c.a.createElement("header",null,c.a.createElement(E,null)),c.a.createElement("main",null,c.a.createElement(_,null))))};m.a.render(c.a.createElement(k,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.bbf51d98.chunk.js.map